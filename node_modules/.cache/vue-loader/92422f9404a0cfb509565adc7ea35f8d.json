{"remainingRequest":"/Users/user/Documents/projets/muse-vue-ant-design-dashboard-pro-v1.0.0/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/user/Documents/projets/muse-vue-ant-design-dashboard-pro-v1.0.0/src/components/Widgets/WidgetGlobe.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/user/Documents/projets/muse-vue-ant-design-dashboard-pro-v1.0.0/src/components/Widgets/WidgetGlobe.vue","mtime":1629998264000},{"path":"/Users/user/Documents/projets/muse-vue-ant-design-dashboard-pro-v1.0.0/node_modules/cache-loader/dist/cjs.js","mtime":1650904941747},{"path":"/Users/user/Documents/projets/muse-vue-ant-design-dashboard-pro-v1.0.0/node_modules/babel-loader/lib/index.js","mtime":1650902396000},{"path":"/Users/user/Documents/projets/muse-vue-ant-design-dashboard-pro-v1.0.0/node_modules/cache-loader/dist/cjs.js","mtime":1650904941747},{"path":"/Users/user/Documents/projets/muse-vue-ant-design-dashboard-pro-v1.0.0/node_modules/vue-loader/lib/index.js","mtime":1650902392000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgp2YXIgVEhSRUUgPSByZXF1aXJlKCcuLi8uLi9wbHVnaW5zL3RocmVlL3RocmVlanMuanMnKTsKcmVxdWlyZSgnLi4vLi4vcGx1Z2lucy90aHJlZS9vcmJpdC1jb250cm9scy5qcycpOwoKZXhwb3J0IGRlZmF1bHQgKHsKCWRhdGEoKXsKCQlyZXR1cm4gewoJCX0gOwoJfSwKCW1vdW50ZWQgKCkgewoJCWxldCBjb250YWluZXIgPSB0aGlzLiRyZWZzLmdsb2JlQ29udGFpbmVyIDsKCQlsZXQgY2FudmFzID0gdGhpcy4kcmVmcy5nbG9iZSA7CgoJCWNvbnN0IGdsb2JlUmFkaXVzID0gMTAwOwoJCWNvbnN0IGdsb2JlV2lkdGggPSA0MDk4IC8gMjsKCQljb25zdCBnbG9iZUhlaWdodCA9IDE5NjggLyAyOwoKCQlmdW5jdGlvbiBjb252ZXJ0RmxhdENvb3Jkc1RvU3BoZXJlQ29vcmRzKHgsIHkpIHsKCQkJbGV0IGxhdGl0dWRlID0gKCh4IC0gZ2xvYmVXaWR0aCkgLyBnbG9iZVdpZHRoKSAqIC0xODA7CgkJCWxldCBsb25naXR1ZGUgPSAoKHkgLSBnbG9iZUhlaWdodCkgLyBnbG9iZUhlaWdodCkgKiAtOTA7CgkJCWxhdGl0dWRlID0gKGxhdGl0dWRlICogTWF0aC5QSSkgLyAxODA7CgkJCWxvbmdpdHVkZSA9IChsb25naXR1ZGUgKiBNYXRoLlBJKSAvIDE4MDsKCQkJY29uc3QgcmFkaXVzID0gTWF0aC5jb3MobG9uZ2l0dWRlKSAqIGdsb2JlUmFkaXVzOwoKCQkJcmV0dXJuIHsKCQkJCXg6IE1hdGguY29zKGxhdGl0dWRlKSAqIHJhZGl1cywKCQkJCXk6IE1hdGguc2luKGxvbmdpdHVkZSkgKiBnbG9iZVJhZGl1cywKCQkJCXo6IE1hdGguc2luKGxhdGl0dWRlKSAqIHJhZGl1cwoJCQl9OwoJCX0KCgkJZnVuY3Rpb24gbWFrZU1hZ2ljKHBvaW50cykgewoJCQljb25zdCB7CgkJCQl3aWR0aCwKCQkJCWhlaWdodAoJCQl9ID0gY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwoKCQkJLy8gMS4gU2V0dXAgc2NlbmUKCQkJY29uc3Qgc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTsKCQkJLy8gMi4gU2V0dXAgY2FtZXJhCgkJCWNvbnN0IGNhbWVyYSA9IG5ldyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSg0NSwgd2lkdGggLyBoZWlnaHQpOwoJCQkvLyAzLiBTZXR1cCByZW5kZXJlcgoJCQljb25zdCByZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKHsKCQkJCWNhbnZhcywKCQkJCWFudGlhbGlhczogdHJ1ZQoJCQl9KTsKCQkJcmVuZGVyZXIuc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KTsKCQkJLy8gNC4gQWRkIHBvaW50cyB0byBjYW52YXMKCQkJLy8gLSBTaW5nbGUgZ2VvbWV0cnkgdG8gY29udGFpbiBhbGwgcG9pbnRzLgoJCQljb25zdCBtZXJnZWRHZW9tZXRyeSA9IG5ldyBUSFJFRS5HZW9tZXRyeSgpOwoJCQkvLyAtIE1hdGVyaWFsIHRoYXQgdGhlIGRvdHMgd2lsbCBiZSBtYWRlIG9mLgoJCQljb25zdCBwb2ludEdlb21ldHJ5ID0gbmV3IFRIUkVFLlNwaGVyZUdlb21ldHJ5KDAuNSwgMSwgMSk7CgkJCWNvbnN0IHBvaW50TWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoewoJCQkJY29sb3I6ICIjOTg5ZGI1IiwKCQkJfSk7CgoJCQlmb3IgKGxldCBwb2ludCBvZiBwb2ludHMpIHsKCQkJCWNvbnN0IHsKCQkJCQl4LAoJCQkJCXksCgkJCQkJegoJCQkJfSA9IGNvbnZlcnRGbGF0Q29vcmRzVG9TcGhlcmVDb29yZHMoCgkJCQkJcG9pbnQueCwKCQkJCQlwb2ludC55LAoJCQkJCXdpZHRoLAoJCQkJCWhlaWdodAoJCQkJKTsKCgkJCQlpZiAoeCAmJiB5ICYmIHopIHsKCQkJCQlwb2ludEdlb21ldHJ5LnRyYW5zbGF0ZSh4LCB5LCB6KTsKCQkJCQltZXJnZWRHZW9tZXRyeS5tZXJnZShwb2ludEdlb21ldHJ5KTsKCQkJCQlwb2ludEdlb21ldHJ5LnRyYW5zbGF0ZSgteCwgLXksIC16KTsKCQkJCX0KCQkJfQoKCQkJY29uc3QgZ2xvYmVTaGFwZSA9IG5ldyBUSFJFRS5NZXNoKG1lcmdlZEdlb21ldHJ5LCBwb2ludE1hdGVyaWFsKTsKCQkJc2NlbmUuYWRkKGdsb2JlU2hhcGUpOwoKCQkJY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoInBlZWthYm9vIik7CgoJCQkvLyBTZXR1cCBvcmJpdGFsIGNvbnRyb2xzCgkJCWNhbWVyYS5vcmJpdENvbnRyb2xzID0gbmV3IFRIUkVFLk9yYml0Q29udHJvbHMoY2FtZXJhLCBjYW52YXMpOwoJCQljYW1lcmEub3JiaXRDb250cm9scy5lbmFibGVLZXlzID0gZmFsc2U7CgkJCWNhbWVyYS5vcmJpdENvbnRyb2xzLmVuYWJsZVBhbiA9IGZhbHNlOwoJCQljYW1lcmEub3JiaXRDb250cm9scy5lbmFibGVab29tID0gZmFsc2U7CgkJCWNhbWVyYS5vcmJpdENvbnRyb2xzLmVuYWJsZURhbXBpbmcgPSBmYWxzZTsKCQkJY2FtZXJhLm9yYml0Q29udHJvbHMuZW5hYmxlUm90YXRlID0gdHJ1ZTsKCQkJY2FtZXJhLm9yYml0Q29udHJvbHMuYXV0b1JvdGF0ZSA9IHRydWU7CgkJCWNhbWVyYS5wb3NpdGlvbi56ID0gLTI2NTsKCgkJCWZ1bmN0aW9uIGFuaW1hdGUoKSB7CgkJCS8vIG9yYml0Q29udHJvbHMuYXV0b1JvdGF0ZSBpcyBlbmFibGVkIHNvIG9yYml0Q29udHJvbHMudXBkYXRlCgkJCS8vIG11c3QgYmUgY2FsbGVkIGluc2lkZSBhbmltYXRpb24gbG9vcC4KCQkJY2FtZXJhLm9yYml0Q29udHJvbHMudXBkYXRlKCk7CgkJCQlyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSk7CgkJCQlyZW5kZXJlci5yZW5kZXIoc2NlbmUsIGNhbWVyYSk7CgkJCX0KCQkJYW5pbWF0ZSgpOwoJCX0KCgkJZnVuY3Rpb24gaGFzV2ViR0woKSB7CgkJCWNvbnN0IGdsID0KCQkJY2FudmFzLmdldENvbnRleHQoIndlYmdsIikgfHwgY2FudmFzLmdldENvbnRleHQoImV4cGVyaW1lbnRhbC13ZWJnbCIpOwoJCQlpZiAoZ2wgJiYgZ2wgaW5zdGFuY2VvZiBXZWJHTFJlbmRlcmluZ0NvbnRleHQpIHsKCQkJCXJldHVybiB0cnVlOwoJCQl9IGVsc2UgewoJCQkJcmV0dXJuIGZhbHNlOwoJCQl9CgkJfQoKCQlmdW5jdGlvbiBpbml0KCkgewoJCQlpZiAoaGFzV2ViR0woKSkgewoJCQkJd2luZG93CgkJCQl3aW5kb3cuZmV0Y2goImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9jcmVhdGl2ZXRpbW9mZmljaWFsL3B1YmxpYy1hc3NldHMvbWFzdGVyL3NvZnQtdWktZGFzaGJvYXJkLXByby9hc3NldHMvanMvcG9pbnRzLmpzb24iKQoJCQkJCS50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSkKCQkJCQkudGhlbihkYXRhID0+IHsKCQkJCQkJbWFrZU1hZ2ljKGRhdGEucG9pbnRzKTsKCQkJCQl9KTsKCQkJfQoJCX0KCQlpbml0KCk7Cgl9LAp9KQoK"},{"version":3,"sources":["WidgetGlobe.vue"],"names":[],"mappings":";;;;;;;;;;AAUA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"WidgetGlobe.vue","sourceRoot":"src/components/Widgets","sourcesContent":["<template>\r\n\t<!-- Globe widget -->\r\n\t<div ref=\"globeContainer\" class=\"globeContainer\">\r\n\t\t<canvas ref=\"globe\" width=\"700\" height=\"655\" class=\"\"></canvas>\r\n\t</div>\r\n\t<!-- Globe widget -->\r\n</template>\r\n\r\n<script>\r\n\r\n\tvar THREE = require('../../plugins/three/threejs.js');\r\n\trequire('../../plugins/three/orbit-controls.js');\r\n\r\n\texport default ({\r\n\t\tdata(){\r\n\t\t\treturn {\r\n\t\t\t} ;\r\n\t\t},\r\n\t\tmounted () {\r\n\t\t\tlet container = this.$refs.globeContainer ;\r\n\t\t\tlet canvas = this.$refs.globe ;\r\n\r\n\t\t\tconst globeRadius = 100;\r\n\t\t\tconst globeWidth = 4098 / 2;\r\n\t\t\tconst globeHeight = 1968 / 2;\r\n\r\n\t\t\tfunction convertFlatCoordsToSphereCoords(x, y) {\r\n\t\t\t\tlet latitude = ((x - globeWidth) / globeWidth) * -180;\r\n\t\t\t\tlet longitude = ((y - globeHeight) / globeHeight) * -90;\r\n\t\t\t\tlatitude = (latitude * Math.PI) / 180;\r\n\t\t\t\tlongitude = (longitude * Math.PI) / 180;\r\n\t\t\t\tconst radius = Math.cos(longitude) * globeRadius;\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\tx: Math.cos(latitude) * radius,\r\n\t\t\t\t\ty: Math.sin(longitude) * globeRadius,\r\n\t\t\t\t\tz: Math.sin(latitude) * radius\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tfunction makeMagic(points) {\r\n\t\t\t\tconst {\r\n\t\t\t\t\twidth,\r\n\t\t\t\t\theight\r\n\t\t\t\t} = container.getBoundingClientRect();\r\n\r\n\t\t\t\t// 1. Setup scene\r\n\t\t\t\tconst scene = new THREE.Scene();\r\n\t\t\t\t// 2. Setup camera\r\n\t\t\t\tconst camera = new THREE.PerspectiveCamera(45, width / height);\r\n\t\t\t\t// 3. Setup renderer\r\n\t\t\t\tconst renderer = new THREE.WebGLRenderer({\r\n\t\t\t\t\tcanvas,\r\n\t\t\t\t\tantialias: true\r\n\t\t\t\t});\r\n\t\t\t\trenderer.setSize(width, height);\r\n\t\t\t\t// 4. Add points to canvas\r\n\t\t\t\t// - Single geometry to contain all points.\r\n\t\t\t\tconst mergedGeometry = new THREE.Geometry();\r\n\t\t\t\t// - Material that the dots will be made of.\r\n\t\t\t\tconst pointGeometry = new THREE.SphereGeometry(0.5, 1, 1);\r\n\t\t\t\tconst pointMaterial = new THREE.MeshBasicMaterial({\r\n\t\t\t\t\tcolor: \"#989db5\",\r\n\t\t\t\t});\r\n\r\n\t\t\t\tfor (let point of points) {\r\n\t\t\t\t\tconst {\r\n\t\t\t\t\t\tx,\r\n\t\t\t\t\t\ty,\r\n\t\t\t\t\t\tz\r\n\t\t\t\t\t} = convertFlatCoordsToSphereCoords(\r\n\t\t\t\t\t\tpoint.x,\r\n\t\t\t\t\t\tpoint.y,\r\n\t\t\t\t\t\twidth,\r\n\t\t\t\t\t\theight\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\tif (x && y && z) {\r\n\t\t\t\t\t\tpointGeometry.translate(x, y, z);\r\n\t\t\t\t\t\tmergedGeometry.merge(pointGeometry);\r\n\t\t\t\t\t\tpointGeometry.translate(-x, -y, -z);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst globeShape = new THREE.Mesh(mergedGeometry, pointMaterial);\r\n\t\t\t\tscene.add(globeShape);\r\n\r\n\t\t\t\tcontainer.classList.add(\"peekaboo\");\r\n\r\n\t\t\t\t// Setup orbital controls\r\n\t\t\t\tcamera.orbitControls = new THREE.OrbitControls(camera, canvas);\r\n\t\t\t\tcamera.orbitControls.enableKeys = false;\r\n\t\t\t\tcamera.orbitControls.enablePan = false;\r\n\t\t\t\tcamera.orbitControls.enableZoom = false;\r\n\t\t\t\tcamera.orbitControls.enableDamping = false;\r\n\t\t\t\tcamera.orbitControls.enableRotate = true;\r\n\t\t\t\tcamera.orbitControls.autoRotate = true;\r\n\t\t\t\tcamera.position.z = -265;\r\n\r\n\t\t\t\tfunction animate() {\r\n\t\t\t\t// orbitControls.autoRotate is enabled so orbitControls.update\r\n\t\t\t\t// must be called inside animation loop.\r\n\t\t\t\tcamera.orbitControls.update();\r\n\t\t\t\t\trequestAnimationFrame(animate);\r\n\t\t\t\t\trenderer.render(scene, camera);\r\n\t\t\t\t}\r\n\t\t\t\tanimate();\r\n\t\t\t}\r\n\r\n\t\t\tfunction hasWebGL() {\r\n\t\t\t\tconst gl =\r\n\t\t\t\tcanvas.getContext(\"webgl\") || canvas.getContext(\"experimental-webgl\");\r\n\t\t\t\tif (gl && gl instanceof WebGLRenderingContext) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfunction init() {\r\n\t\t\t\tif (hasWebGL()) {\r\n\t\t\t\t\twindow\r\n\t\t\t\t\twindow.fetch(\"https://raw.githubusercontent.com/creativetimofficial/public-assets/master/soft-ui-dashboard-pro/assets/js/points.json\")\r\n\t\t\t\t\t\t.then(response => response.json())\r\n\t\t\t\t\t\t.then(data => {\r\n\t\t\t\t\t\t\tmakeMagic(data.points);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tinit();\r\n\t\t},\r\n\t})\r\n\r\n</script>"]}]}