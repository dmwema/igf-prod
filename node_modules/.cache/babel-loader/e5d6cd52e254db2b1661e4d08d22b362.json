{"remainingRequest":"/home/daniel/Downloads/muse-vue-ant-design-dashboard-pro-v1.0.0/muse-vue-ant-design-dashboard-pro-v1.0.0/node_modules/babel-loader/lib/index.js!/home/daniel/Downloads/muse-vue-ant-design-dashboard-pro-v1.0.0/muse-vue-ant-design-dashboard-pro-v1.0.0/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/daniel/Downloads/muse-vue-ant-design-dashboard-pro-v1.0.0/muse-vue-ant-design-dashboard-pro-v1.0.0/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/daniel/Downloads/muse-vue-ant-design-dashboard-pro-v1.0.0/muse-vue-ant-design-dashboard-pro-v1.0.0/src/components/Widgets/WidgetGlobe.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/daniel/Downloads/muse-vue-ant-design-dashboard-pro-v1.0.0/muse-vue-ant-design-dashboard-pro-v1.0.0/src/components/Widgets/WidgetGlobe.vue","mtime":1629998265000},{"path":"/home/daniel/Downloads/muse-vue-ant-design-dashboard-pro-v1.0.0/muse-vue-ant-design-dashboard-pro-v1.0.0/babel.config.js","mtime":1629998265000},{"path":"/home/daniel/Downloads/muse-vue-ant-design-dashboard-pro-v1.0.0/muse-vue-ant-design-dashboard-pro-v1.0.0/node_modules/cache-loader/dist/cjs.js","mtime":1650902392788},{"path":"/home/daniel/Downloads/muse-vue-ant-design-dashboard-pro-v1.0.0/muse-vue-ant-design-dashboard-pro-v1.0.0/node_modules/babel-loader/lib/index.js","mtime":1650902396159},{"path":"/home/daniel/Downloads/muse-vue-ant-design-dashboard-pro-v1.0.0/muse-vue-ant-design-dashboard-pro-v1.0.0/node_modules/cache-loader/dist/cjs.js","mtime":1650902392788},{"path":"/home/daniel/Downloads/muse-vue-ant-design-dashboard-pro-v1.0.0/muse-vue-ant-design-dashboard-pro-v1.0.0/node_modules/vue-loader/lib/index.js","mtime":1650902393388}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9ob21lL2RhbmllbC9Eb3dubG9hZHMvbXVzZS12dWUtYW50LWRlc2lnbi1kYXNoYm9hcmQtcHJvLXYxLjAuMC9tdXNlLXZ1ZS1hbnQtZGVzaWduLWRhc2hib2FyZC1wcm8tdjEuMC4wL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CgovLwovLwovLwovLwovLwovLwovLwovLwp2YXIgVEhSRUUgPSByZXF1aXJlKCcuLi8uLi9wbHVnaW5zL3RocmVlL3RocmVlanMuanMnKTsKCnJlcXVpcmUoJy4uLy4uL3BsdWdpbnMvdGhyZWUvb3JiaXQtY29udHJvbHMuanMnKTsKCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHt9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBjb250YWluZXIgPSB0aGlzLiRyZWZzLmdsb2JlQ29udGFpbmVyOwogICAgdmFyIGNhbnZhcyA9IHRoaXMuJHJlZnMuZ2xvYmU7CiAgICB2YXIgZ2xvYmVSYWRpdXMgPSAxMDA7CiAgICB2YXIgZ2xvYmVXaWR0aCA9IDQwOTggLyAyOwogICAgdmFyIGdsb2JlSGVpZ2h0ID0gMTk2OCAvIDI7CgogICAgZnVuY3Rpb24gY29udmVydEZsYXRDb29yZHNUb1NwaGVyZUNvb3Jkcyh4LCB5KSB7CiAgICAgIHZhciBsYXRpdHVkZSA9ICh4IC0gZ2xvYmVXaWR0aCkgLyBnbG9iZVdpZHRoICogLTE4MDsKICAgICAgdmFyIGxvbmdpdHVkZSA9ICh5IC0gZ2xvYmVIZWlnaHQpIC8gZ2xvYmVIZWlnaHQgKiAtOTA7CiAgICAgIGxhdGl0dWRlID0gbGF0aXR1ZGUgKiBNYXRoLlBJIC8gMTgwOwogICAgICBsb25naXR1ZGUgPSBsb25naXR1ZGUgKiBNYXRoLlBJIC8gMTgwOwogICAgICB2YXIgcmFkaXVzID0gTWF0aC5jb3MobG9uZ2l0dWRlKSAqIGdsb2JlUmFkaXVzOwogICAgICByZXR1cm4gewogICAgICAgIHg6IE1hdGguY29zKGxhdGl0dWRlKSAqIHJhZGl1cywKICAgICAgICB5OiBNYXRoLnNpbihsb25naXR1ZGUpICogZ2xvYmVSYWRpdXMsCiAgICAgICAgejogTWF0aC5zaW4obGF0aXR1ZGUpICogcmFkaXVzCiAgICAgIH07CiAgICB9CgogICAgZnVuY3Rpb24gbWFrZU1hZ2ljKHBvaW50cykgewogICAgICB2YXIgX2NvbnRhaW5lciRnZXRCb3VuZGluID0gY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLAogICAgICAgICAgd2lkdGggPSBfY29udGFpbmVyJGdldEJvdW5kaW4ud2lkdGgsCiAgICAgICAgICBoZWlnaHQgPSBfY29udGFpbmVyJGdldEJvdW5kaW4uaGVpZ2h0OyAvLyAxLiBTZXR1cCBzY2VuZQoKCiAgICAgIHZhciBzY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpOyAvLyAyLiBTZXR1cCBjYW1lcmEKCiAgICAgIHZhciBjYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoNDUsIHdpZHRoIC8gaGVpZ2h0KTsgLy8gMy4gU2V0dXAgcmVuZGVyZXIKCiAgICAgIHZhciByZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKHsKICAgICAgICBjYW52YXM6IGNhbnZhcywKICAgICAgICBhbnRpYWxpYXM6IHRydWUKICAgICAgfSk7CiAgICAgIHJlbmRlcmVyLnNldFNpemUod2lkdGgsIGhlaWdodCk7IC8vIDQuIEFkZCBwb2ludHMgdG8gY2FudmFzCiAgICAgIC8vIC0gU2luZ2xlIGdlb21ldHJ5IHRvIGNvbnRhaW4gYWxsIHBvaW50cy4KCiAgICAgIHZhciBtZXJnZWRHZW9tZXRyeSA9IG5ldyBUSFJFRS5HZW9tZXRyeSgpOyAvLyAtIE1hdGVyaWFsIHRoYXQgdGhlIGRvdHMgd2lsbCBiZSBtYWRlIG9mLgoKICAgICAgdmFyIHBvaW50R2VvbWV0cnkgPSBuZXcgVEhSRUUuU3BoZXJlR2VvbWV0cnkoMC41LCAxLCAxKTsKICAgICAgdmFyIHBvaW50TWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoewogICAgICAgIGNvbG9yOiAiIzk4OWRiNSIKICAgICAgfSk7CgogICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIocG9pbnRzKSwKICAgICAgICAgIF9zdGVwOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgdmFyIHBvaW50ID0gX3N0ZXAudmFsdWU7CgogICAgICAgICAgdmFyIF9jb252ZXJ0RmxhdENvb3Jkc1RvUyA9IGNvbnZlcnRGbGF0Q29vcmRzVG9TcGhlcmVDb29yZHMocG9pbnQueCwgcG9pbnQueSwgd2lkdGgsIGhlaWdodCksCiAgICAgICAgICAgICAgeCA9IF9jb252ZXJ0RmxhdENvb3Jkc1RvUy54LAogICAgICAgICAgICAgIHkgPSBfY29udmVydEZsYXRDb29yZHNUb1MueSwKICAgICAgICAgICAgICB6ID0gX2NvbnZlcnRGbGF0Q29vcmRzVG9TLno7CgogICAgICAgICAgaWYgKHggJiYgeSAmJiB6KSB7CiAgICAgICAgICAgIHBvaW50R2VvbWV0cnkudHJhbnNsYXRlKHgsIHksIHopOwogICAgICAgICAgICBtZXJnZWRHZW9tZXRyeS5tZXJnZShwb2ludEdlb21ldHJ5KTsKICAgICAgICAgICAgcG9pbnRHZW9tZXRyeS50cmFuc2xhdGUoLXgsIC15LCAteik7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgIH0KCiAgICAgIHZhciBnbG9iZVNoYXBlID0gbmV3IFRIUkVFLk1lc2gobWVyZ2VkR2VvbWV0cnksIHBvaW50TWF0ZXJpYWwpOwogICAgICBzY2VuZS5hZGQoZ2xvYmVTaGFwZSk7CiAgICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCJwZWVrYWJvbyIpOyAvLyBTZXR1cCBvcmJpdGFsIGNvbnRyb2xzCgogICAgICBjYW1lcmEub3JiaXRDb250cm9scyA9IG5ldyBUSFJFRS5PcmJpdENvbnRyb2xzKGNhbWVyYSwgY2FudmFzKTsKICAgICAgY2FtZXJhLm9yYml0Q29udHJvbHMuZW5hYmxlS2V5cyA9IGZhbHNlOwogICAgICBjYW1lcmEub3JiaXRDb250cm9scy5lbmFibGVQYW4gPSBmYWxzZTsKICAgICAgY2FtZXJhLm9yYml0Q29udHJvbHMuZW5hYmxlWm9vbSA9IGZhbHNlOwogICAgICBjYW1lcmEub3JiaXRDb250cm9scy5lbmFibGVEYW1waW5nID0gZmFsc2U7CiAgICAgIGNhbWVyYS5vcmJpdENvbnRyb2xzLmVuYWJsZVJvdGF0ZSA9IHRydWU7CiAgICAgIGNhbWVyYS5vcmJpdENvbnRyb2xzLmF1dG9Sb3RhdGUgPSB0cnVlOwogICAgICBjYW1lcmEucG9zaXRpb24ueiA9IC0yNjU7CgogICAgICBmdW5jdGlvbiBhbmltYXRlKCkgewogICAgICAgIC8vIG9yYml0Q29udHJvbHMuYXV0b1JvdGF0ZSBpcyBlbmFibGVkIHNvIG9yYml0Q29udHJvbHMudXBkYXRlCiAgICAgICAgLy8gbXVzdCBiZSBjYWxsZWQgaW5zaWRlIGFuaW1hdGlvbiBsb29wLgogICAgICAgIGNhbWVyYS5vcmJpdENvbnRyb2xzLnVwZGF0ZSgpOwogICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTsKICAgICAgICByZW5kZXJlci5yZW5kZXIoc2NlbmUsIGNhbWVyYSk7CiAgICAgIH0KCiAgICAgIGFuaW1hdGUoKTsKICAgIH0KCiAgICBmdW5jdGlvbiBoYXNXZWJHTCgpIHsKICAgICAgdmFyIGdsID0gY2FudmFzLmdldENvbnRleHQoIndlYmdsIikgfHwgY2FudmFzLmdldENvbnRleHQoImV4cGVyaW1lbnRhbC13ZWJnbCIpOwoKICAgICAgaWYgKGdsICYmIGdsIGluc3RhbmNlb2YgV2ViR0xSZW5kZXJpbmdDb250ZXh0KSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gaW5pdCgpIHsKICAgICAgaWYgKGhhc1dlYkdMKCkpIHsKICAgICAgICB3aW5kb3c7CiAgICAgICAgd2luZG93LmZldGNoKCJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vY3JlYXRpdmV0aW1vZmZpY2lhbC9wdWJsaWMtYXNzZXRzL21hc3Rlci9zb2Z0LXVpLWRhc2hib2FyZC1wcm8vYXNzZXRzL2pzL3BvaW50cy5qc29uIikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgbWFrZU1hZ2ljKGRhdGEucG9pbnRzKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfQoKICAgIGluaXQoKTsKICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;AAUA;;AACAA;;AAEA;AACAC,MADA,kBACA;AACA;AAEA,GAJA;AAKAC,SALA,qBAKA;AACA;AACA;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACAC;AACAC;AACA;AAEA;AACAC,sCADA;AAEAC,4CAFA;AAGAC;AAHA;AAKA;;AAEA;AACA,kCAGAC,iCAHA;AAAA,UACAC,KADA,yBACAA,KADA;AAAA,UAEAC,MAFA,yBAEAA,MAFA,CADA,CAMA;;;AACA,oCAPA,CAQA;;AACA,mEATA,CAUA;;AACA;AACAC,sBADA;AAEAC;AAFA;AAIAC,sCAfA,CAgBA;AACA;;AACA,gDAlBA,CAmBA;;AACA;AACA;AACAC;AADA;;AArBA,iDAyBAC,MAzBA;AAAA;;AAAA;AAyBA;AAAA;;AACA,sCAIAC,gCACAC,OADA,EAEAA,OAFA,EAGAR,KAHA,EAIAC,MAJA,CAJA;AAAA,cACAL,CADA,yBACAA,CADA;AAAA,cAEAC,CAFA,yBAEAA,CAFA;AAAA,cAGAC,CAHA,yBAGAA,CAHA;;AAWA;AACAW;AACAC;AACAD;AACA;AACA;AA1CA;AAAA;AAAA;AAAA;AAAA;;AA4CA;AACAE;AAEAZ,0CA/CA,CAiDA;;AACAa;AACAA;AACAA;AACAA;AACAA;AACAA;AACAA;AACAA;;AAEA;AACA;AACA;AACAA;AACAC;AACAT;AACA;;AACAU;AACA;;AAEA;AACA,eACAZ,qEADA;;AAEA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;;AAEA;AACA;AACAa;AACAA,+IACAC,IADA,CACA;AAAA;AAAA,SADA,EAEAA,IAFA,CAEA;AACAC;AACA,SAJA;AAKA;AACA;;AACAC;AACA;AArHA","names":["require","data","mounted","latitude","longitude","x","y","z","container","width","height","canvas","antialias","renderer","color","points","convertFlatCoordsToSphereCoords","point","pointGeometry","mergedGeometry","scene","camera","requestAnimationFrame","animate","window","then","makeMagic","init"],"sourceRoot":"src/components/Widgets","sources":["WidgetGlobe.vue"],"sourcesContent":["<template>\r\n\t<!-- Globe widget -->\r\n\t<div ref=\"globeContainer\" class=\"globeContainer\">\r\n\t\t<canvas ref=\"globe\" width=\"700\" height=\"655\" class=\"\"></canvas>\r\n\t</div>\r\n\t<!-- Globe widget -->\r\n</template>\r\n\r\n<script>\r\n\r\n\tvar THREE = require('../../plugins/three/threejs.js');\r\n\trequire('../../plugins/three/orbit-controls.js');\r\n\r\n\texport default ({\r\n\t\tdata(){\r\n\t\t\treturn {\r\n\t\t\t} ;\r\n\t\t},\r\n\t\tmounted () {\r\n\t\t\tlet container = this.$refs.globeContainer ;\r\n\t\t\tlet canvas = this.$refs.globe ;\r\n\r\n\t\t\tconst globeRadius = 100;\r\n\t\t\tconst globeWidth = 4098 / 2;\r\n\t\t\tconst globeHeight = 1968 / 2;\r\n\r\n\t\t\tfunction convertFlatCoordsToSphereCoords(x, y) {\r\n\t\t\t\tlet latitude = ((x - globeWidth) / globeWidth) * -180;\r\n\t\t\t\tlet longitude = ((y - globeHeight) / globeHeight) * -90;\r\n\t\t\t\tlatitude = (latitude * Math.PI) / 180;\r\n\t\t\t\tlongitude = (longitude * Math.PI) / 180;\r\n\t\t\t\tconst radius = Math.cos(longitude) * globeRadius;\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\tx: Math.cos(latitude) * radius,\r\n\t\t\t\t\ty: Math.sin(longitude) * globeRadius,\r\n\t\t\t\t\tz: Math.sin(latitude) * radius\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tfunction makeMagic(points) {\r\n\t\t\t\tconst {\r\n\t\t\t\t\twidth,\r\n\t\t\t\t\theight\r\n\t\t\t\t} = container.getBoundingClientRect();\r\n\r\n\t\t\t\t// 1. Setup scene\r\n\t\t\t\tconst scene = new THREE.Scene();\r\n\t\t\t\t// 2. Setup camera\r\n\t\t\t\tconst camera = new THREE.PerspectiveCamera(45, width / height);\r\n\t\t\t\t// 3. Setup renderer\r\n\t\t\t\tconst renderer = new THREE.WebGLRenderer({\r\n\t\t\t\t\tcanvas,\r\n\t\t\t\t\tantialias: true\r\n\t\t\t\t});\r\n\t\t\t\trenderer.setSize(width, height);\r\n\t\t\t\t// 4. Add points to canvas\r\n\t\t\t\t// - Single geometry to contain all points.\r\n\t\t\t\tconst mergedGeometry = new THREE.Geometry();\r\n\t\t\t\t// - Material that the dots will be made of.\r\n\t\t\t\tconst pointGeometry = new THREE.SphereGeometry(0.5, 1, 1);\r\n\t\t\t\tconst pointMaterial = new THREE.MeshBasicMaterial({\r\n\t\t\t\t\tcolor: \"#989db5\",\r\n\t\t\t\t});\r\n\r\n\t\t\t\tfor (let point of points) {\r\n\t\t\t\t\tconst {\r\n\t\t\t\t\t\tx,\r\n\t\t\t\t\t\ty,\r\n\t\t\t\t\t\tz\r\n\t\t\t\t\t} = convertFlatCoordsToSphereCoords(\r\n\t\t\t\t\t\tpoint.x,\r\n\t\t\t\t\t\tpoint.y,\r\n\t\t\t\t\t\twidth,\r\n\t\t\t\t\t\theight\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\tif (x && y && z) {\r\n\t\t\t\t\t\tpointGeometry.translate(x, y, z);\r\n\t\t\t\t\t\tmergedGeometry.merge(pointGeometry);\r\n\t\t\t\t\t\tpointGeometry.translate(-x, -y, -z);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst globeShape = new THREE.Mesh(mergedGeometry, pointMaterial);\r\n\t\t\t\tscene.add(globeShape);\r\n\r\n\t\t\t\tcontainer.classList.add(\"peekaboo\");\r\n\r\n\t\t\t\t// Setup orbital controls\r\n\t\t\t\tcamera.orbitControls = new THREE.OrbitControls(camera, canvas);\r\n\t\t\t\tcamera.orbitControls.enableKeys = false;\r\n\t\t\t\tcamera.orbitControls.enablePan = false;\r\n\t\t\t\tcamera.orbitControls.enableZoom = false;\r\n\t\t\t\tcamera.orbitControls.enableDamping = false;\r\n\t\t\t\tcamera.orbitControls.enableRotate = true;\r\n\t\t\t\tcamera.orbitControls.autoRotate = true;\r\n\t\t\t\tcamera.position.z = -265;\r\n\r\n\t\t\t\tfunction animate() {\r\n\t\t\t\t// orbitControls.autoRotate is enabled so orbitControls.update\r\n\t\t\t\t// must be called inside animation loop.\r\n\t\t\t\tcamera.orbitControls.update();\r\n\t\t\t\t\trequestAnimationFrame(animate);\r\n\t\t\t\t\trenderer.render(scene, camera);\r\n\t\t\t\t}\r\n\t\t\t\tanimate();\r\n\t\t\t}\r\n\r\n\t\t\tfunction hasWebGL() {\r\n\t\t\t\tconst gl =\r\n\t\t\t\tcanvas.getContext(\"webgl\") || canvas.getContext(\"experimental-webgl\");\r\n\t\t\t\tif (gl && gl instanceof WebGLRenderingContext) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfunction init() {\r\n\t\t\t\tif (hasWebGL()) {\r\n\t\t\t\t\twindow\r\n\t\t\t\t\twindow.fetch(\"https://raw.githubusercontent.com/creativetimofficial/public-assets/master/soft-ui-dashboard-pro/assets/js/points.json\")\r\n\t\t\t\t\t\t.then(response => response.json())\r\n\t\t\t\t\t\t.then(data => {\r\n\t\t\t\t\t\t\tmakeMagic(data.points);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tinit();\r\n\t\t},\r\n\t})\r\n\r\n</script>"]}]}